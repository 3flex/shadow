(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{355:function(a,t,e){"use strict";e.r(t);var n=e(43),s=Object(n.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"integrating-with-application-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integrating-with-application-plugin","aria-hidden":"true"}},[a._v("#")]),a._v(" Integrating with Application Plugin")]),a._v(" "),e("p",[a._v("Shadow reacts to the presence of Gradle's\n"),e("a",{attrs:{href:"https://docs.gradle.org/current/userguide/application_plugin.html",target:"_blank",rel:"noopener noreferrer"}},[e("code",[a._v("application")]),e("OutboundLink")],1),a._v(" plugin and will automatically\nconfigure additional tasks for running the shadowed JAR and creating distributions containing the shadowed JAR.")]),a._v(" "),e("p",[a._v("Just like the normal "),e("code",[a._v("jar")]),a._v(" task, when the "),e("code",[a._v("application")]),a._v(" plugin is applied, the "),e("code",[a._v("shadowJar")]),a._v(" manifest will be\nconfigured to contain the "),e("code",[a._v("Main-Class")]),a._v(" attribute with the value specified in the project's "),e("code",[a._v("mainClassName")]),a._v(" attribute.")]),a._v(" "),e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Using Shadow with Application Plugin")]),a._v("\napply plugin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'java'")]),a._v("\napply plugin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'application'")]),a._v("\napply plugin"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'com.github.johnrengelman.shadow'")]),a._v("\n\nmainClassName "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'myapp.Main'")]),a._v("\n")])])]),e("h2",{attrs:{id:"running-the-shadow-jar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#running-the-shadow-jar","aria-hidden":"true"}},[a._v("#")]),a._v(" Running the Shadow JAR")]),a._v(" "),e("p",[a._v("When applied along with the "),e("code",[a._v("application")]),a._v(" plugin, the "),e("code",[a._v("runShadow")]),a._v(" task will be created for starting\nthe application from the shadowed JAR.\nThe "),e("code",[a._v("runShadow")]),a._v(" task is a "),e("a",{attrs:{href:"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html",target:"_blank",rel:"noopener noreferrer"}},[e("code",[a._v("JavaExec")]),e("OutboundLink")],1),a._v("\ntask that is configured to execute "),e("code",[a._v("java -jar myproject-all.jar")]),a._v(".\nIt can be configured the same as any other "),e("code",[a._v("JavaExec")]),a._v(" task.")]),a._v(" "),e("div",{staticClass:"language-groovy extra-class"},[e("pre",{pre:!0,attrs:{class:"language-groovy"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Configuring the runShadow Task")]),a._v("\nrunShadow "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  args "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'foo'")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("h2",{attrs:{id:"distributing-the-shadow-jar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#distributing-the-shadow-jar","aria-hidden":"true"}},[a._v("#")]),a._v(" Distributing the Shadow JAR")]),a._v(" "),e("p",[a._v("The Shadow plugin will also configure distribution tasks when in the presence of the "),e("code",[a._v("application")]),a._v(" plugin.\nThe plugin will create "),e("code",[a._v("shadowDistZip")]),a._v(" and "),e("code",[a._v("shadowDistTar")]),a._v(" which creates Zip and Tar distributions\nrespectively.\nEach distribution will contain the shadowed JAR file along with the necessary start scripts to launch\nthe application.")]),a._v(" "),e("p",[a._v("Additionally, the plugin will create the "),e("code",[a._v("installShadowDist")]),a._v(" and "),e("code",[a._v("startShadowScripts")]),a._v(" tasks which stages the necessary\nfiles for a distribution to "),e("code",[a._v("build/install/<project name>-shadow/")]),a._v(".")])])},[],!1,null,null,null);t.default=s.exports}}]);