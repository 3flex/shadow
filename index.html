<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="John Engelman - @johnrengelman">
<title>Shadow Plugin User Guide &amp; Examples</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Shadow Plugin User Guide &amp; Examples</h1>
<div class="details">
<span id="author" class="author">John Engelman - @johnrengelman</span><br>
<span id="revnumber">version 1.2.3</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#benefits_of_shadow">1.1. Benefits of Shadow</a></li>
<li><a href="#getting_started">1.2. Getting Started</a></li>
<li><a href="#default_java_groovy_tasks">1.3. Default Java/Groovy Tasks</a></li>
</ul>
</li>
<li><a href="#configuring_shadow">2. Configuring Shadow</a>
<ul class="sectlevel2">
<li><a href="#configuring_output_name">2.1. Configuring Output Name</a></li>
<li><a href="#configuring_the_runtime_classpath">2.2. Configuring the Runtime Classpath</a></li>
<li><a href="#configuring_the_jar_manifest">2.3. Configuring the JAR Manifest</a></li>
<li><a href="#filtering_shadow_jar_contents">2.4. Filtering Shadow Jar Contents</a></li>
<li><a href="#configuring_shadowed_dependencies">2.5. Configuring Shadowed Dependencies</a></li>
<li><a href="#filtering_dependencies">2.6. Filtering Dependencies</a></li>
<li><a href="#controlling_jar_content_merging">2.7. Controlling JAR Content Merging</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="api/index.html">API Docs</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Shadow is a Gradle plugin for combining dependency classes and resources with a project&#8217;s into a single
output Jar.
The combined Jar is often referred to a <em>fat-jar</em> or <em>uber-jar</em>.
Shadow utilizes <code>JarInputStream</code> and <code>JarOutputStream</code> to efficiently process dependent libraries
into the output jar without incurring the I/O overhead of expanding the jars to disk.</p>
</div>
<div class="sect2">
<h3 id="benefits_of_shadow">1.1. Benefits of Shadow</h3>
<div class="paragraph">
<p>Shadowing a project output has 2 major use cases:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Creating an <em>executable</em> JAR distribution</p>
</li>
<li>
<p>Bundling and relocating common dependencies in libraries to avoid classpath conflicts</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="executable_distributions">1.1.1. Executable Distributions</h4>
<div class="paragraph">
<p>Executable distribution is the main use case for <em>application</em> developers.
The goal of an executable distribution is a single file that can be deployed and executed/run in the runtime
environment.
In the case of Shadow, this is a single <em>uber</em> or <em>fat</em> JAR.
The JAR file contains all the application code and dependent libraries to execute (not including the standard JVM
libraries).
The shadow JAR does <strong>not</strong> include the JRE itself.
It must be available on the target system.</p>
</div>
<div class="paragraph">
<p>Executable JARs contain a JAR MANIFEST that specifies the application Main Class.
This allows the application to be started with a single command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ java -jar application-shadow.jar</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="library_bundling">1.1.2. Library Bundling</h4>
<div class="paragraph">
<p>Dependency bundling and relocation is the main use case for <em>library</em> authors.
The goal of a bundled library is to create a pre-packaged dependency for other libraries or applications to utilize.
Often in these scenarios, a library may contain a dependency that a downstream library or application also uses.
In <em>some</em> cases, different versions of this common dependency can cause an issue in either the upstream library or
the downstream application.
These issues often manifest themselves as binary incompatibilities in either the library or application code.</p>
</div>
<div class="paragraph">
<p>By utilizing Shadow&#8217;s ability to <em>relocate</em> the package names for dependencies, a library author can ensure that the
library&#8217;s dependencies will not conflict with the same dependency being declared by the downstream application.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting_started">1.2. Getting Started</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath <span class="string"><span class="delimiter">'</span><span class="content">com.github.jengelman.gradle.plugins:shadow:1.2.3</span><span class="delimiter">'</span></span>
    }
}

apply <span class="key">plugin</span>: <span class="string"><span class="delimiter">'</span><span class="content">com.github.johnrengelman.shadow</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, the Gradle Plugin syntax can be used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">plugins {
  id <span class="string"><span class="delimiter">'</span><span class="content">com.github.johnrengelman.shadow</span><span class="delimiter">'</span></span> version <span class="string"><span class="delimiter">'</span><span class="content">1.2.3</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Shadow is a reactive plugin.
This means that applying Shadow by itself will perform no configuration on your project.
Instead, Shadow <em>reacts</em> to the application of other plugins to decorate the project.</p>
</div>
<div class="paragraph">
<p>This means, that for most users, the <code>java</code> or <code>groovy</code> plugins must be <em>explicitly</em> applied
to have the desired effect.</p>
</div>
</div>
<div class="sect2">
<h3 id="default_java_groovy_tasks">1.3. Default Java/Groovy Tasks</h3>
<div class="paragraph">
<p>In the presence of the <code>java</code> or <code>groovy</code> plugins, Shadow will automatically configure the
following behavior:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a <code>shadowJar</code> task to the project.</p>
</li>
<li>
<p>Adds a <code>shadow</code> configuration to the project.</p>
</li>
<li>
<p>Configures the <code>shadowJar</code> task to include all sources from the project&#8217;s <code>main</code> sourceSet.</p>
</li>
<li>
<p>Configures the <code>shadowJar</code> task to bundle all dependencies from the <code>runtime</code> configuration.</p>
</li>
<li>
<p>Configures the <em>classifier</em> attribute of the <code>shadowJar</code> task to be <code>'all'</code> .</p>
</li>
<li>
<p>Configures the <code>shadowJar</code> task to generate a <code>Manifest</code> with:</p>
<div class="ulist">
<ul>
<li>
<p>Inheriting all configuration from the standard <code>jar</code> task.</p>
</li>
<li>
<p>Adds a <code>Class-Path</code> attribute to the <code>Manifest</code> that appends all dependencies from the <code>shadow</code> configuration</p>
</li>
</ul>
</div>
</li>
<li>
<p>Configures the <code>shadowJar</code> task to <em>exclude</em> any JAR index or cryptographic signature files matching the following patterns:</p>
<div class="ulist">
<ul>
<li>
<p><code>META-INF/INDEX.LIST</code></p>
</li>
<li>
<p><code>META-INF/*.SF</code></p>
</li>
<li>
<p><code>META-INF/*.DSA</code></p>
</li>
<li>
<p><code>META-INF/*.RSA</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Creates and registers the <code>shadow</code> component in the project (used for integrating with <code>maven-publish</code>).</p>
</li>
<li>
<p>Configures the <code>uploadShadow</code> task (as part of the <code>maven</code> plugin) with the following behavior:</p>
<div class="ulist">
<ul>
<li>
<p>Removes the <code>compile</code> and <code>runtime</code> configurations from the <code>pom.xml</code> file mapping.</p>
</li>
<li>
<p>Adds the <code>shadow</code> configuration to the <code>pom.xml</code> file as <code>RUNTIME</code> scope.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring_shadow">2. Configuring Shadow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a> task type extends from Gradle&#8217;s
<a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html"><code>Jar</code></a> type.
This means that all attributes and methods available on <code>Jar</code> are also available on
<a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a>.
Refer the <em>Gradle User Guide</em> for <a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html">Jar</a> for
details.</p>
</div>
<div class="sect2">
<h3 id="configuring_output_name">2.1. Configuring Output Name</h3>
<div class="paragraph">
<p>Shadow configures the default <code>shadowJar</code> task to set the output JAR&#8217;s <code>destinationDir</code>, <code>baseName</code>, <code>appendix</code>,
<code>version</code>, and <code>extension</code> to the same default values as Gradle does for all <code>Jar</code> tasks.
Additionally, it configures the <code>classifier</code> to be <code>all</code>.</p>
</div>
<div class="paragraph">
<p>If working with a Gradle project with the name <code>myApp</code> and version <code>1.0</code>, the default <code>shadowJar</code> task will output a
file at: <code>build/libs/myApp-1.0-all.jar</code></p>
</div>
<div class="paragraph">
<p>As with all <code>Jar</code> tasks in Gradle, these values can be overridden:</p>
</div>
<div class="listingblock">
<div class="title">Output to <code>build/libs/shadow.jar</code></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|shadowJar {
|   baseName = <span class="string"><span class="delimiter">'</span><span class="content">shadow</span><span class="delimiter">'</span></span>
|   classifier = <span class="predefined-constant">null</span>
|}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring_the_runtime_classpath">2.2. Configuring the Runtime Classpath</h3>
<div class="paragraph">
<p>Each Java JAR file contains a manifest file that provides meta data about the contents of the JAR file itself.
When using a shadowed JAR file as an executable JAR, it is assumed that all necessary runtime classes are contained
within the JAR itself.
There may be situations where the desire is to <strong>not</strong> bundle select dependencies into the shadowed JAR file but
they are still required for runtime execution.</p>
</div>
<div class="paragraph">
<p>In these scenarios, Shadow creates a <code>shadow</code> configuration to declare these dependencies.
Dependencies added to the <code>shadow</code> configuration are <strong>not</strong> bundled into the output JAR.</p>
</div>
<div class="paragraph">
<p>Additionally, Shadow automatically configures the manifest of the <code>shadowJar</code> task to contain a <code>Class-Path</code> entry
in the JAR manifest.
The value of the <code>Class-Path</code> entry is the name of all dependencies resolved in the <code>shadow</code> configuration
for the project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|dependencies {
|  shadow <span class="string"><span class="delimiter">'</span><span class="content">junit:junit:3.8.2</span><span class="delimiter">'</span></span>
|}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inspecting the <code>META-INF/MANIFEST.MF</code> entry in the JAR file will reveal the following attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="property">Class-Path: junit-3.8.2.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>When deploying a shadowed JAR as an execution JAR, it is important to note that any non-bundled runtime dependencies
<strong>must</strong> be deployed in the location specified in the <code>Class-Path</code> entry in the manifest.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring_the_jar_manifest">2.3. Configuring the JAR Manifest</h3>
<div class="paragraph">
<p>Beyond the autmatic configuration of the <code>Class-Path</code> entry, the <code>shadowJar</code> manifest is configured in a number of ways.
First, the manifest for the <code>shadowJar</code> task is configured to <em>inherit</em> from the manifest of the standard <code>jar</code> task.
This means that any configuration performed on the <code>jar</code> task will propagate to the <code>shadowJar</code> tasks.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|jar {
|   manifest {
|       attributes <span class="string"><span class="delimiter">'</span><span class="content">Class-Path</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">/libs/a.jar</span><span class="delimiter">'</span></span>
|   }
|}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inspecting the <code>META-INF/MANIFEST.MF</code> entry in the JAR file will revel the following attribute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="property">Class-Path: /libs/a.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>If it is desired to inherit a manifest from a JAR task other than the standard <code>jar</code> task, the <code>inheritFrom</code> methods
on the <code>shadowJar.manifest</code> object can be used to configure the upstream.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">task testJar(<span class="key">type</span>: Jar) {
  manifest {
    attributes <span class="string"><span class="delimiter">'</span><span class="content">Description</span><span class="delimiter">'</span></span>: <span class="string"><span class="delimiter">'</span><span class="content">This is an application JAR</span><span class="delimiter">'</span></span>
  }
}

shadowJar {
  manifest {
    inheritFrom project.tasks.testJar
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="filtering_shadow_jar_contents">2.4. Filtering Shadow Jar Contents</h3>
<div class="paragraph">
<p>The final contents of a shadow JAR can be filtered using the <code>exclude</code> and <code>include</code> methods inherited from Gradle&#8217;s
<code>Jar</code> task type.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html">Jar</a> documentation for details
on the various versions of the methods and their behavior.</p>
</div>
<div class="paragraph">
<p>When using <code>exclude</code>/<code>include</code> with a <code>ShadowJar</code> task, the resulting copy specs are applied to the <em>final</em> JAR
contents.
This means that, the configuration is applied to the individual files from both the project source set or <em>any</em>
of the dependencies to be merged.</p>
</div>
<div class="listingblock">
<div class="title">Exclude a file from Shadow Jar</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|shadowJar {
|   exclude <span class="string"><span class="delimiter">'</span><span class="content">a2.properties</span><span class="delimiter">'</span></span>
|}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Excludes and includes can be combined just like a noraml <code>Jar</code> task, with <code>excludes</code> taking precendence over <code>includes</code>.
Additionally, ANT style patterns can be used to match multiple files.</p>
</div>
<div class="listingblock">
<div class="title">Configuring output using ANT patterns</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|shadowJar {
|   include <span class="string"><span class="delimiter">'</span><span class="content">*.jar</span><span class="delimiter">'</span></span>
|   include <span class="string"><span class="delimiter">'</span><span class="content">*.properties</span><span class="delimiter">'</span></span>
|   exclude <span class="string"><span class="delimiter">'</span><span class="content">a2.properties</span><span class="delimiter">'</span></span>
|}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring_shadowed_dependencies">2.5. Configuring Shadowed Dependencies</h3>
<div class="paragraph">
<p>Shadow configures the default <code>shadowJar</code> task to merge all dependencies from the project&#8217;s <code>runtime</code> configuration
into the final JAR.
The configurations to source dependencies from for the merging can be configured using the <code>configurations</code> property
of the <a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a> task type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  configurations = [project.configurations.compile]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code sample would configure the <code>shadowJar</code> task to merge depdencies from only the <code>compile</code> configuration.
This means any dependency declared in the <code>runtime</code> configuration would be <strong>not</strong> be included in the final JAR.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Note the literal use of <code>project.configurations</code> when setting the <code>configurations</code> attribute of a
<a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a> task.
This is <strong>required</strong>. It maybe be tempting to specify <code>configurations = [configurations.compile]</code> but this will not
have the intended effect, as <code>configurations.compile</code> will try to delegate to the <code>configurations</code> property of the
the <a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a> task instead of the <code>project</code></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="filtering_dependencies">2.6. Filtering Dependencies</h3>
<div class="paragraph">
<p>Individual dependencies can be filtered from the final JAR by using the <code>dependencies</code> block of a
<a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a> task.
Dependency filtering does <strong>not</strong> apply to transitive dependencies.
That is, excluding a dependency does not exclude any of its dependencies from the final JAR.</p>
</div>
<div class="paragraph">
<p>The <code>dependency</code> blocks provides a number of methods for resolving dependencies using the notations familiar from
Gradle&#8217;s <code>configurations</code> block.</p>
</div>
<div class="listingblock">
<div class="title">Exclude an Module Dependency</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|dependencies {
|   compile <span class="string"><span class="delimiter">'</span><span class="content">shadow:d:1.0</span><span class="delimiter">'</span></span>
|}
|
|shadowJar {
|   dependencies {
|      exclude(dependency(<span class="string"><span class="delimiter">'</span><span class="content">shadow:d:1.0</span><span class="delimiter">'</span></span>))
|   }
|}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Exclude a Project Dependency</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|dependencies {
|  compile project(<span class="string"><span class="delimiter">'</span><span class="content">:client</span><span class="delimiter">'</span></span>)
|}
|
|shadowJar {
|   dependencies {
|       exclude(project(<span class="string"><span class="delimiter">'</span><span class="content">:client</span><span class="delimiter">'</span></span>))
|   }
|}</code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>While not being able to filter entire transitive dependency graphs might seem like an oversight, it is necessary
because it would not be possible to intelligently determine the build author&#8217;s intended results when there is a
common dependency between two 1st level dependencies when one is excluded and the other is not.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="using_regex_patterns_to_filter_dependencies">2.6.1. Using Regex Patterns to Filter Dependencies</h4>
<div class="paragraph">
<p>Dependencies can be filtered using regex patterns.
Coupled with the <code>&lt;group&gt;:&lt;artifact&gt;:&lt;version&gt;</code> notation for dependencies, this allows for excluding/including
using any of these individual fields.</p>
</div>
<div class="listingblock">
<div class="title">Exclude Any Version of a Dependency</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|dependencies {
|   compile <span class="string"><span class="delimiter">'</span><span class="content">shadow:d:1.0</span><span class="delimiter">'</span></span>
|}
|
|shadowJar {
|   dependencies {
|      exclude(dependency(<span class="string"><span class="delimiter">'</span><span class="content">shadow:d:.*</span><span class="delimiter">'</span></span>))
|   }
|}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Any of the individual fields can be safely absent and will function as though a wildcard was specified.</p>
</div>
<div class="listingblock">
<div class="title">Ignore Dependency Version</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  dependencies {
    exclude(dependency(<span class="string"><span class="delimiter">'</span><span class="content">shadow:d</span><span class="delimiter">'</span></span>))
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code snippet is functionally equivalent to the previous example.</p>
</div>
<div class="paragraph">
<p>This same patten can be used for any of the dependency notation fields.</p>
</div>
<div class="listingblock">
<div class="title">Ignoring An Artifact Regardless of Group</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  dependencies {
    exclude(dependency(<span class="string"><span class="delimiter">'</span><span class="content">:d:1.0</span><span class="delimiter">'</span></span>))
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Excluding All Artifacts From Group</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  dependencies {
    exclude(dependency(<span class="string"><span class="delimiter">'</span><span class="content">shadow::1.0</span><span class="delimiter">'</span></span>))
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="programmatically_selecting_dependencies_to_filter">2.6.2. Programmatically Selecting Dependencies to Filter</h4>
<div class="paragraph">
<p>If more complex decisions are needed to select the dependencies to be included, the
<a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html#dependencies(Action&lt;DependencyFilter&gt;)"><code>dependencies</code></a> block provides a
method that accepts a <code>Closure</code> for selecting dependencies.</p>
</div>
<div class="listingblock">
<div class="title">Selecting Dependencies to Filter With a Spec</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">|shadowJar {
|   dependencies {
|       exclude(dependency {
|           <span class="local-variable">it</span>.moduleGroup == <span class="string"><span class="delimiter">'</span><span class="content">junit</span><span class="delimiter">'</span></span>
|       })
|   }
|}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="controlling_jar_content_merging">2.7. Controlling JAR Content Merging</h3>
<div class="paragraph">
<p>Shadow allows for customizing the process by which the output JAR is generated through the
<a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/Transformer.html"><code>Transformer</code></a> interface.
This is a concept that has been carried over from the original Maven Shade implementation.
A <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/Transformer.html"><code>Transformer</code></a> is invoked for each entry in the JAR before being written to
the final output JAR.
This allows a <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/Transformer.html"><code>Transformer</code></a> to determine if it should process a particular
entry and apply any modifications beforewriting the stream to the output.</p>
</div>
<div class="listingblock">
<div class="title">Adding a Transformer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  transform(MyTransformer.class)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, a <code>Transformer</code> can accept a <code>Closure</code> to configure the provided <code>Transformer</code>.</p>
</div>
<div class="listingblock">
<div class="title">Configuring a Transformer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  transform(MyTransformer.class) {
    enable = <span class="predefined-constant">true</span>
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>An instantiated instance of a <code>Transformer</code> can also be provided.</p>
</div>
<div class="listingblock">
<div class="title">Adding a Transformer Instance</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  transform(<span class="keyword">new</span> MyTransformer(<span class="key">enabled</span>: <span class="predefined-constant">true</span>))
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="merging_service_descriptor_files">2.7.1. Merging Service Descriptor Files</h4>
<div class="paragraph">
<p>Java libraries often contain service descriptors files in the <code>META-INF/services</code> directory of the JAR.
A service descriptor typically contains a line delimited list of classes that are supported for a particular <em>service</em>.
At runtime, this file is read and used to configure library or application behavior.</p>
</div>
<div class="paragraph">
<p>Multiple dependencies may use the same service descriptor file name.
In this case, it is generally desired to merge the content of each instance of the file into a single output file.
The <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/ServiceFileTransformer.html"><code>ServiceFileTransformer</code></a> class is used to perform this merging.
By default, it will merge each copy of a file under <code>META-INF/services</code> into a single file in the output JAR.</p>
</div>
<div class="listingblock">
<div class="title">Merging Service Files</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  mergeServiceFiles()
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above code snippet is a convenience syntax for calling
link:api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html#transform(Class&lt;? extends Transformer&gt;)[<code>transform(ServiceFileTransformer.class)</code>].</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Groovy Extension Module descriptor files (located at <code>META-INF/services/org.codehaus.groovy.runtime.ExtensionModule</code>)
are ignored by the <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/ServiceFileTransformer.html"><code>ServiceFileTransformer</code></a>.
This is due to these files having a different syntax than standard service descriptor files.
Use the <a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html#mergeGroovyExtensionModules()"><code>mergeGroovyExtensionModules()</code></a> method to merge
these files if your dependencies contain them.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="configuring_the_location_of_service_descriptor_files">Configuring the Location of Service Descriptor Files</h5>
<div class="paragraph">
<p>By default the <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/ServiceFileTransformer.html"><code>ServiceFileTransformer</code></a> is configured to merge
files in <code>META-INF/services</code>.
This directory can be overridden to merge descriptor files in a different location.</p>
</div>
<div class="listingblock">
<div class="title">Merging Service Files in a Specific Directory</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  mergeServiceFiles {
    path = <span class="string"><span class="delimiter">'</span><span class="content">META-INF/custom</span><span class="delimiter">'</span></span>
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="excluding_including_specific_service_descriptor_files_from_merging">Excluding/Including Specific Service Descriptor Files From Merging</h5>
<div class="paragraph">
<p>The <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/ServiceFileTransformer.html"><code>ServiceFileTransformer</code></a> class supports specifying specific
files to include or exclude from merging.</p>
</div>
<div class="listingblock">
<div class="title">Excluding a Service Descriptor From Merging</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  mergeServiceFiles {
    exclude <span class="string"><span class="delimiter">'</span><span class="content">META-INF/services/com.acme.*</span><span class="delimiter">'</span></span>
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="merging_groovy_extension_modules">2.7.2. Merging Groovy Extension Modules</h4>
<div class="paragraph">
<p>Shadow provides a specific transformer for dealing with Groovy extension module files.
This is due to their special syntax and how they need to be merged together.
The <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/GroovyExtensionModuleTransformer.html"><code>GroovyExtensionModuleTransformer</code></a> will handle these
files.
The <a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a> task also provides a short syntax method to add this transformer.</p>
</div>
<div class="listingblock">
<div class="title">Merging Groovy Extension Modules</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  mergeGroovyExtensionModules()
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="appending_text_files">2.7.3. Appending Text Files</h4>
<div class="paragraph">
<p>Generic text files can be appended together using the
<a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/AppendingTransformer.html"><code>AppendingTransformer</code></a>.
Each file is appended using new lines to separate content.
The <a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html"><code>ShadowJar</code></a> task provides a short syntax method of
<a href="api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html#append(java.lang.String)"><code>append(String)</code></a> to configure this transformer.</p>
</div>
<div class="listingblock">
<div class="title">Appending a Property File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  append <span class="string"><span class="delimiter">'</span><span class="content">test.properties</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="appending_xml_files">2.7.4. Appending XML Files</h4>
<div class="paragraph">
<p>XML files require a special transformer for merging.
The <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/XmlAppendingTransformer.html"><code>XmlAppendingTransformer</code></a> reads each XML document and merges
each root element into a single document.
There is no short syntax method for the <a href="api/com/github/jengelman/gradle/plugins/shadow/transformers/XmlAppendingTransformer.html"><code>XmlAppendingTransformer</code></a>.
It must be added using the link:api/com/github/jengelman/gradle/plugins/shadow/tasks/ShadowJar.html#transform(Class&lt;? extends Transformer&gt;)[<code>transform</code>] methods.</p>
</div>
<div class="listingblock">
<div class="title">Appending a XML File</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">shadowJar {
  tranform(XmlAppendingTransformer.class) {
    resource = <span class="string"><span class="delimiter">'</span><span class="content">properties.xml</span><span class="delimiter">'</span></span>
  }
}


== Creating a Custom ShadowJar Task

[source,groovy,indent=<span class="integer">0</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>task testJar(type: ShadowJar) {
  classifier = 'tests'
  from sourceSets.test.output
}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>== Integrating with Application Plugin

== Publishing Shadow JARs

Publishing shadow jars
relying on shadow jar dependency from another project

== Change Log

[discrete]
=== v1.2.3

* Support for Gradle 2.11-rc-1 (https://github.com/johnrengelman/shadow/issues/177[Issue #177])
* Convert internal framework to https://docs.gradle.org/current/userguide/test_kit.html[Gradle TestKit]
* https://github.com/fkorotkov[Fedor Korotkov] - Use BufferedOutputStream when writing the Zip file (https://github.com/johnrengelman/shadow/pull/171[PR #171])
* https://github.com/hbchai[Haw-Bin Chai] - Quote Jar path in Windows start script as it may contain spaces (https://github.com/johnrengelman/shadow/pull/170[PR #170])
* https://github.com/siordache[Serban Iordache] - Evaluate relocation specs when merging service descriptors (https://github.com/johnrengelman/shadow/pull/165[PR #165])

[discrete]
=== v1.2.2

* https://github.com/Minecrell[Minecrell] - Gradle 2.5 compatibility (https://github.com/johnrengelman/shadow/issues/147[Issue #147])

[discrete]
=== v1.2.1

* Apply package relocations to dependency resources (https://github.com/johnrengelman/shadow/issues/114[Issue #114])

[discrete]
=== v1.2.0

* Re-organize some code to remove need for forcing the Gradle API ClassLoader to allow the `org.apache.tools.zip` package.
* Upgrade JDOM library from 1.1 to 2.0.5 (change dependency from `jdom:jdom:1.1` to `org.jdom:jdom2:2.0.5`) (https://github.com/johnrengelman/shadow/issues/98[Issue #98])
* Convert ShadowJar.groovy to ShadowJar.java to workaround binary incompatibility introduced by Gradle 2.2 ((https://github.com/johnrengelman/shadow/issues/106[Issue #106])
* Updated ASM library to `5.0.3` to support JDK8 (https://github.com/johnrengelman/shadow/issues/97[Issue #97])
* Allows for regex pattern matching in the `dependency` string when including/excluding (https://github.com/johnrengelman/shadow/issues/83[Issue #83])
* Apply package relocations to resource files (https://github.com/johnrengelman/shadow/issues/93[Issue #93])

[discrete]
=== v1.1.2

* fix bug in `runShadow` where dependencies from the `shadow` configuration are not available (https://github.com/johnrengelman/shadow/issues/94[Issue #94])

[discrete]
=== v1.1.1

* Fix bug in `'createStartScripts'` task that was causing it to not execute `'shadowJar'` task (https://github.com/johnrengelman/shadow/issues/90[Issue #90])
* Do not include `null` in ShadowJar Manifest `'Class-Path'` value when `jar` task does not specify a value for it. (https://github.com/johnrengelman/shadow/issues/92[Issue #92])
* ShadowJar Manifest `'Class-Path'` should reference jars from `'shadow'` config as relative to location of `shadowJar` output (https://github.com/johnrengelman/shadow/issues/91[Issue #91])

[discrete]
=== v1.1.0

* __**Breaking Change!**__ Fix leaking of `shadowJar.manifest` into `jar.manifest`. (https://github.com/johnrengelman/shadow/issues/82[Issue #82])
  To simplify behavior, the `shadowJar.appendManifest` method has been removed. Replace uses with `shadowJar.manifest`
* `ShadowTask` now has a `configurations` property that is resolved to the files in the resolved configuration before
  being added to the copy spec. This allows for an easier implementation for filtering. The default 'shadowJar' task
  has the convention of adding the `'runtime'` scope to this list. Manually created instances of `ShadowTask` have no
  configurations added by default and can be configured by setting `task.configurations`.
* Properly configure integration with the `'maven'` plugin when added. When adding `'maven'` the `'uploadShadow'` task
  will now properly configure the POM dependencies by removing the `'compile'` and `'runtime'` configurations from the
  POM and adding the `'shadow'` configuration as a `RUNTIME` scope in the POM. This behavior matches the behavior when
  using the `'maven-publish'` plugin.
* https://github.com/mhurne[Matt Hurne] - Allow `ServiceFileTransformer` to specify include/exclude patterns for
  files within the configured path to merge.
* https://github.com/mhurne[Matt Hurne] - Added `GroovyExtensionModuleTransformer` for merging Groovy Extension module
  descriptor files. The existing `ServiceFileTransformer` now excludes Groovy Extension Module descriptors by default.
* `distShadowZip` and `distShadowZip` now contain the shadow library and run scripts instead of the default from the `'application'` plugin (https://github.com/johnrengelman/shadow/issues/89[Issue #89])

[discrete]
=== v1.0.3

* Make service files root path configurable for `ServiceFileTransformer` (https://github.com/johnrengelman/shadow/issues/72[Issue #72])
* https://github.com/aalmiray[Andres Almiray] - Added PropertiesFileTransformer (https://github.com/johnrengelman/shadow/issues/73[Issue #73])
* https://github.com/brandonkearby[Brandon Kearby] - Fixed StackOverflow when a cycle occurs in the resolved dependency graph (https://github.com/johnrengelman/shadow/pull/69[Issue #69])
* Apply Transformers to project resources (https://github.com/johnrengelman/shadow/issues/70[Issue #70]), https://github.com/johnrengelman/shadow/issues/71[Issue #71])
* Do not drop non-class files from dependencies when relocation is enabled. Thanks to https://github.com/Minecrell[Minecrell] for digging into this. (https://github.com/johnrengelman/shadow/issues/61[Issue #61])
* Remove support for applying individual sub-plugins by Id (easier maintenance and cleaner presentation in Gradle Portal)

[discrete]
=== v1.0.2

* Do not add an empty Class-Path attribute to the manifest when the `shadow` configuration contains no dependencies.
* `runShadow` now registers `shadowJar` as an input. Previously, `runShadow` did not execute `shadowJar` and an error occurred.
* Support Gradle 2.0 (https://github.com/johnrengelman/shadow/issues/66[Issue #66])
* Do not override existing 'Class-Path' Manifest attribute settings from Jar configuration. Instead combine. (https://github.com/johnrengelman/shadow/issues/65[Issue #65])

[discrete]
=== v1.0.1

* Fix issue where non-class files are dropped when using relocation (https://github.com/johnrengelman/shadow/issues/58[Issue #58])
* Do not create a `/` directory inside the output jar.
* Fix `runShadow` task to evaluate the `shadowJar.archiveFile` property at execution time. (https://github.com/johnrengelman/shadow/issues/60[Issue #60])

[discrete]
=== v1.0.0

* Previously known as v0.9.0
* All changes from 0.9.0-M1 to 0.9.0-M5
* Properly configure the ShadowJar task inputs to observe the include/excludes from the `dependencies` block. This
  allows UP-TO-DATE checking to work properly when changing the `dependencies` rules (https://github.com/johnrengelman/shadow/issues/54[Issue #54])
* Apply relocation remappings to classes and imports in source project (https://github.com/johnrengelman/shadow/issues/55[Issue #55])
* Do not create directories in jar for source of remapped class, created directories in jar for destination of remapped classes (https://github.com/johnrengelman/shadow/issues/53[Issue #53])

[discrete]
=== v0.9.0-M5

* Add commons-io to compile classpath
* Update asm library to 4.1

[discrete]
=== v0.9.0-M4

* Break plugin into multiple sub-plugins. `ShadowBasePlugin` is always applied.
  `ShadowJavaPlugin` and `ShadowApplicationPlugin` are applied in reaction to applying the `java` and `application`
  plugins respectively.
* Shadow does not applied `java` plugin automatically. `java` or `groovy` must be applied in conjunction with `shadow`.
* Moved artifact filtering to `dependencies {}` block underneath `shadowJar`. This allows better include/exclude control
  for dependencies.
* Dependencies added to the `shadow` configuration are automatically added to the `Class-Path` attribute in the manifest
  for `shadowJar`
* Applying `application` plugin and settings `mainClassName` automatically configures the `Main-Class` attribute in
  the manifest for `shadowJar`
* `runShadow` now utilizes the output of the `shadowJar` and executes using `java -jar &lt;shadow jar file&gt;`
* Start Scripts for shadow distribution now utilize `java -jar` to execute instead of placing all files on classpath
  and executing main class.
* Excluding/Including dependencies no longer includes transitive dependencies. All dependencies for inclusion/exclusion
  must be explicitly configured via a spec.

[discrete]
=== v0.9.0-M3

* Use commons.io FilenameUtils to determine name of resolved jars for including/excluding

[discrete]
=== v0.9.0-M2

* Added integration with `application` plugin to replace old `OutputSignedJars` task
* Fixed bug that resulted in duplicate file entries in the resulting Jar
* Changed plugin id to 'com.github.johnrengelman.shadow' to support Gradle 2.x plugin infrastructure.

[discrete]
=== v0.9.0-M1

* Rewrite based on Gradle Jar Task
* `ShadowJar` now extends `Jar`
* Removed `signedCompile` and `signedRuntime` configurations in favor of `shadow` configuration
* Removed `OutputSignedJars` task</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.2.3<br>
Last updated 2016-06-09 11:24:23 +00:00
</div>
</div>
</body>
</html>